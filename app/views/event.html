
<div class="b-main-cover event-cover desktop" ng-if="desktop" ng-style="{ height: windowHeight - 200 }" style="background-image: url({{event.occurrence.parent_event.cover_hd || coverMain}})">

</div>
<div class="b-main-cover event-cover mobile" ng-if="mobile" style="background-image: url({{event.occurrence.parent_event.cover_mobile || coverMain}})">
    <div class="b-event-header">
        <h1>{{event.occurrence.parent_event.title}}</h1>
        <h3><span ng-if="event.occurrence.parent_event.tags"><span class="comma-list" ng-repeat="tag in event.occurrence.parent_event.tags">{{tag}}</span> — </span>mit {{event.occurrence.parent_event.teacher_name}}</h3>
    </div>
</div>
<div class="container b-event cf">
    <div class="w-right">
        <div class="b-main-sidebar">
            <div class="sidebar-widget book">
                <p class="price" ng-show="desktop">{{minPrice.ticket.display_price}} &euro;</p>
                <p class="date">{{date | amDateFormat: 'L'}}</p>
                <p class="capacity" ng-if="event.occurrence.total_tickets">
                    <span ng-if="event.occurrence.total_tickets_left && event.occurrence.total_tickets > 1">{{event.occurrence.total_tickets_left}}/{{event.occurrence.total_tickets}} Plätzen frei</span>
                    <span ng-if="event.occurrence.total_tickets_left == 0">Ausverkauft</span>
                    <span ng-if="event.occurrence.total_tickets == 1">Privatstunde</span>
                </p>
                <a class="book_btn" ng-if="desktop" analytics-on="click" analytics-event="book" analytics-category="booking" ng-href="{{event.occurrence.url}}" ng-click="bookEvent()">Buche dieses Event</a>
                <a class="book_btn" ng-if="mobile" analytics-on="click" analytics-event="book" analytics-category="booking" sticky use-placeholder ng-href="{{event.occurrence.url}}" ng-click="bookEvent()">Buche dieses Event<span>&nbsp;|&nbsp;{{minPrice.ticket.display_price}} &euro;</span></a>
                <a class="change_btn" analytics-on="click" analytics-event="book" analytics-category="book_another" ng-href="{{event.url}}" ng-click="bookAnotherEvent()"><i class="fa fa-calendar"></i>Buche einen anderen Termin</a>
                <!--<button class="share_btn" ng-click="share()">Share FB</button>-->
            </div>
        </div>
    </div>
    <div class="w-left">
        <div class="b-main-content">
            <div class="b-event-block">
                <div ng-show="desktop">
                    <h1>{{event.occurrence.parent_event.title}}</h1>
                    <h3><span ng-if="event.occurrence.parent_event.tags"><span class="comma-list" ng-repeat="tag in event.occurrence.parent_event.tags">{{tag}}</span> — </span> mit {{event.occurrence.parent_event.teacher_name}}</h3>
                </div>
                <p ng-if="event.occurrence.parent_event.description">{{event.occurrence.parent_event.description | cutString:cutVal:true}}
                    <a class="a-more" href="" ng-show="event.occurrence.parent_event.description.length > cutVal && cutVal > 0" analytics-on="click" analytics-event="book" analytics-category="consideration" ng-click="uncut()">Mehr &gt;</a>
                    <a class="a-more" href="" ng-show="cutVal == 0" ng-click="cut()">&lt; Weniger</a>
                </p>
                <div class="b-event-map">
                    <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" options="map.options">
                        <ui-gmap-marker coords="marker.coords" options="marker.options" icon="marker.options.icon" events="marker.events" idkey="marker.id"></ui-gmap-marker>
                    </ui-gmap-google-map>
                </div>
                <ul class="b-event-list">
                    <li ng-if="event.occurrence.parent_event.location"><i class="fa fa-location-arrow"></i>{{event.occurrence.parent_event.location.address}}, {{event.occurrence.parent_event.location.postal_code}} {{event.occurrence.parent_event.location.city}} ({{event.occurrence.parent_event.location.name}})</li>
                    <li ng-if="duration"><i class="fa fa-clock-o"></i>{{duration}} Minuten</li>
                    <li ng-if="event.occurrence.parent_event.level"><i class="fa fa-bolt"></i>{{event.occurrence.parent_event.level}}</li>
                    <li ng-if="event.occurrence.parent_event.languages"><i class="fa fa-comments"></i><span class="comma-list" ng-repeat="language in event.occurrence.parent_event.languages">{{language}}</span></li>
                    <li ng-if="event.occurrence.parent_event.besonderheiten"><i class="fa fa-info-circle"></i>{{event.occurrence.parent_event.besonderheiten}}</li>
                </ul>
            </div>
            <div class="b-teacher-block">
                <div class="b-teacher-block__header cf">
                    <div class="avatar"><img ng-src="{{teacher.mainAvatar.url}}" alt=""/></div>
                    <h2>{{teacher.legalName}}</h2>
                    <h3 ng-if="teacher.teacherProfile.teacherLevel">
                        <b ng-if="teacher.teacherProfile.teacherLevel == 'teacher'">Lehrer</b>
                        <b ng-if="teacher.teacherProfile.teacherLevel == 'advanced'">Erfahrener Lehrer</b>
                        <b ng-if="teacher.teacherProfile.teacherLevel == 'master'">Meister Lehrer</b>
                    </h3>
                    <a class="contact_btn" ng-if="desktop" analytics-on="click" analytics-event="book" analytics-category="consideration" ng-click="contactTeacher()" ui-sref="view.contact"><i class="fa fa-envelope"></i>Fragen zum Event?</a>
                </div>
                <ul class="b-event-list">
                    <li ng-if="teacher.teacherProfile.teachingSince || teacher.teacherProfile.numberOfClassesTaught"><i class="fa fa-check-circle-o"></i>
                        <span ng-if="teacher.teacherProfile.teachingSince">Seit {{2014 - teacher.teacherProfile.teachingSince}} </span>
                        <span ng-if="teacher.teacherProfile.numberOfClassesTaught">, {{teacher.teacherProfile.numberOfClassesTaught}} Stunden</span>
                    </li>
                    <li ng-if="teacher.teacherProfile.trainings"><i class="fa fa-certificate"></i><ul class="certificate-list"><li ng-repeat="training in teacher.teacherProfile.trainings">{{training.name}}</li></ul></li>
                </ul>
                <a class="contact_btn" ng-if="mobile" analytics-on="click" analytics-event="book" analytics-category="consideration" ng-click="contactTeacher()" ui-sref="view.contact"><i class="fa fa-envelope"></i>Fragen zum Event?</a>
            </div>
        </div>
    </div>
</div>
